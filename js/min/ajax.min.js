class Ajax {

	post (url, data, callback) {
		const request_data = JSON.stringify(data);
		const request = new XMLHttpRequest();
		request.open('POST', url, true);
		request.responseType = 'json';
		request.setRequestHeader('Content-Type', 'Application/JSON');
		request.onload = () => {
			if (request.status < 400)
			{ callback(null, request.response); }
			else { callback(true, request.status) }
		};
		request.onerror = () => {
			const msg = request.status + ':' + request.statusText;
			callback(true, msg);
		};
		request.send(request_data);
	}

    get (url, callback) {
        const request = new XMLHttpRequest();
        request.open('GET', url, true);
        request.responseType = 'json';
        request.onload = () => { callback(false, request.response); };
        request.onerror = () => {
            console.error(request.status, ':', request.statusText);
            callback(true, request.status);
        };
		request.send();
    }
	
}
const AJAX = new Ajax();